"use strict";(self["webpackChunkel_admin_v2"]=self["webpackChunkel_admin_v2"]||[]).push([[914],{6914:function(e,t,i){i.r(t),i.d(t,{default:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.$t("window.setWeek"),visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[t("el-table",{attrs:{data:e.tableData}},[t("el-table-column",{attrs:{prop:"weekday",label:e.$t("feelview.dept.week"),align:"center"}}),t("el-table-column",{attrs:{prop:"weekFlag",label:e.$t("feelview.dept.isWorkDay"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-checkbox",{model:{value:i.row.weekFlag,callback:function(t){e.$set(i.row,"weekFlag",t)},expression:"scope.row.weekFlag"}})]}}])}),t("el-table-column",{attrs:{prop:"weekBegintime",label:e.$t("feelview.dept.startTime"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-time-picker",{staticStyle:{width:"120px"},attrs:{format:"HH:mm:ss","value-format":"HH:mm:ss"},model:{value:i.row.weekBegintime,callback:function(t){e.$set(i.row,"weekBegintime",t)},expression:"scope.row.weekBegintime"}})]}}])}),t("el-table-column",{attrs:{prop:"weekEndtime",label:e.$t("feelview.dept.endTime"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-time-picker",{staticStyle:{width:"120px"},attrs:{format:"HH:mm:ss","value-format":"HH:mm:ss"},model:{value:i.row.weekEndtime,callback:function(t){e.$set(i.row,"weekEndtime",t)},expression:"scope.row.weekEndtime"}})]}}])})],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),t("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},l=[],s={components:{},mixins:[],props:{},data(){return{visible:!1,clickStatu:!1,fullscreenLoading:!1,deptId:"",id:"",tableData:[],weekday:[]}},computed:{},created(){},mounted(){},methods:{init(e){this.visible=!0,this.deptId=e,this.getWeekSet(),this.weekday=this.$t("common.fullDayNames").split(","),this.weekday.push(this.weekday.shift())},getWeekSet(){let e={};this.tableData=[],e={deptId:this.deptId,language:"zh"===this.$store.state.i18n.locale?"zh_CN":"en_us"},this.$http({url:"/service/dept_weekset/get",method:"post",data:e,contentType:"json"}).then((e=>{if(e&&0===e.code){for(let t=1;t<=7;t++){this.id=e.data.id;let i={};i.weekday=this.weekday[t-1],e.data["weekBegintime"+t]?i.weekBegintime=e.data["weekBegintime"+t]:i.weekBegintime="08:00:00",e.data["weekEndtime"+t]?i.weekEndtime=e.data["weekBegintime"+t]:i.weekEndtime="17:00:00",e.data["weekFlag"+t]?i.weekFlag=Boolean("1"===e.data["weekFlag"+t]):i.weekFlag=Boolean(t<6),this.tableData.push(i)}console.log(this.tableData)}}))},dataFormSubmit(){if(!this.clickStatu){this.clickStatu=!0,this.fullscreenLoading=!0;let e={};e={id:this.id||null,deptId:this.deptId,language:"zh"===this.$store.state.i18n.locale?"zh_CN":"en_us"};for(let t=1;t<=7;t++)e["weekBegintime"+t]=this.tableData[t-1].weekBegintime,e["weekEndtime"+t]=this.tableData[t-1].weekEndtime,e["weekFlag"+t]=this.tableData[t-1].weekFlag?"1":"0";this.$http({url:"/service/dept_weekset/save",method:"post",data:e,contentType:"json"}).then((e=>{e&&0===e.code?(this.visible=!1,this.$emit("refreshDataList"),this.$message({message:this.$t("operateSuccess"),type:"success",duration:1500,onClose:()=>{this.clickStatu=!1,this.fullscreenLoading=!1}})):this.$message({message:this.$t(e.msg),type:"error",duration:1500,onClose:()=>{this.clickStatu=!1,this.fullscreenLoading=!1}})}))}setTimeout((()=>{this.clickStatu=!1,this.fullscreenLoading=!1}),1500)}},filters:{},watch:{}},n=s,o=i(3736),r=(0,o.Z)(n,a,l,!1,null,"58eab569",null),d=r.exports}}]);
//# sourceMappingURL=914.ebdef595.js.map