"use strict";(self["webpackChunkel_admin_v2"]=self["webpackChunkel_admin_v2"]||[]).push([[704],{9704:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("el-dialog",{attrs:{title:e.dataForm.id?"编辑":"新增",visible:e.visible},on:{"update:visible":function(t){e.visible=t},close:e.resetDataForm}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"150px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[t("el-form-item",{attrs:{label:e.$t("角色名称"),prop:"roleName"}},[t("el-input",{attrs:{maxlength:25},model:{value:e.dataForm.roleName,callback:function(t){e.$set(e.dataForm,"roleName",t)},expression:"dataForm.roleName"}})],1),t("el-form-item",{attrs:{label:e.$t("级别"),prop:"roleLevel"}},[t("el-select",{attrs:{size:"mini"},model:{value:e.dataForm.roleLevel,callback:function(t){e.$set(e.dataForm,"roleLevel",t)},expression:"dataForm.roleLevel"}},e._l(e.levelList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),t("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},s=[],i={components:{},mixins:[],props:{},data(){return{visible:!1,fullscreenLoading:!1,levelList:[],clickStatu:!1,dataForm:{id:"",roleName:"",roleLevel:"0"},dataRule:{roleName:[{required:!0,message:this.$t("sys.role.roleName")+this.$t("info.common.notNull "),trigger:"blur"}]}}},computed:{},created(){},mounted(){this.levelList=this.$store.getters["getDictList"]("user.level")},methods:{init(e){this.visible=!0,console.log(e),console.log(this.dataForm),this.$nextTick((()=>{this.$refs.dataForm.resetFields(),e&&(this.dataForm=e||"")}))},resetDataForm(){this.dataForm={id:"",roleName:"",roleLevel:"0"}},dataFormSubmit(){this.clickStatu||(this.clickStatu=!0,this.$refs["dataForm"].validate((e=>{if(e){this.fullscreenLoading=!0;let e={};e={id:this.dataForm.id||null,roleName:this.dataForm.roleName,roleLevel:this.dataForm.roleLevel,language:"zh"===this.$store.state.i18n.locale?"zh_CN":"en_us"},this.$http({url:"/service/role/save",method:"post",data:e,contentType:"json"}).then((e=>{console.log(e),e&&0===e.code?(this.visible=!1,this.$emit("refreshDataList"),this.$message({message:this.$t("operateSuccess"),type:"success",duration:1500,onClose:()=>{this.clickStatu=!1,this.fullscreenLoading=!1}})):this.$message({message:this.$t(e.msg),type:"error",duration:1500,onClose:()=>{this.clickStatu=!1,this.fullscreenLoading=!1}})}))}}))),setTimeout((()=>{this.clickStatu=!1,this.fullscreenLoading=!1}),1500)}},filters:{},watch:{}},o=i,r=l(3736),n=(0,r.Z)(o,a,s,!1,null,"7242500c",null),u=n.exports}}]);
//# sourceMappingURL=704.64614f1b.js.map